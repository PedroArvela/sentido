\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{ist-thesis}[2016/02/02 IST Dissertation]

%% Process given options
\ProcessOptions\relax

%% Load additional packages and commands.
\RequirePackage{geometry}
\RequirePackage{graphicx}
\RequirePackage{textpos}
\RequirePackage{footmisc}
\RequirePackage{ifthen}
\RequirePackage{tabu}

\geometry{a4paper,margin=2.5cm}

\def \thesisimage #1 {\def \@thesisimage{#1}}

\def \field #1 {\def \@field{#1}}
\def \supervisor #1 {\def \@supervisor{#1}}

\def \chairperson #1 {\def \@chairperson{#1}}
\def \committeesup #1 {\def \@committeesup{#1}}
\def \committeemembers #1 {\def \@committeemembers{#1}}

\edef \ist@indent {\the\parindent}

\renewcommand{\maketitle}{\begin{titlepage}
\pagestyle{plain}
\pagenumbering{roman}
\begin{textblock*}{5cm}(-.5cm,-1cm)
\noindent
\includegraphics[clip=true,trim=6cm 7cm 6cm 7cm,width=5cm]{IST_A_CMYK_POS}
\end{textblock*}
\centering

\vspace{6cm}

{\LARGE\textbf{\@title}}

\vfill

{\Large\textbf{\@author}}

\vfill

{\large Thesis to obtain the Master of Science Degree in}

\bigskip

{\Large\textbf{\@field}}

\vfill

{\large Supervisor(s): \@supervisor}

\vfill

{\Large\textbf{Examination Committee}}

\bigskip

\begin{tabular}{ll}
Chairperson: & \@chairperson\\
Supervisor: & \@committeesup\\
Members of the Committee: & \@committeemembers\\
\end{tabular}

\vfill

{\Large\textbf{\@date}}
\end{titlepage}}

\renewcommand{\familydefault}{\sfdefault}
\renewcommand*\sfdefault{phv}
\linespread{1.5}

\renewcommand{\footnotesize}{\fontsize{9pt}{11pt}\selectfont}
\renewcommand{\footnotelayout}{\setstretch{1}}

\newenvironment{acknowledgements}{%
\chapter*{Acknowledgements}
\thispagestyle{empty}
}{\newpage}

\newenvironment{abstract}{%
\chapter*{\abstractname}
\thispagestyle{empty}
}{\newpage}

\newenvironment{resumo}{%
\chapter*{Resumo}
\thispagestyle{empty}
}{\newpage}

\newenvironment{dedications}{%
\chapter*{}
\thispagestyle{empty}
\vfill
\mbox{}
\vfill\Large
\begin{flushright}
  \begin{minipage}{8cm}
    \begin{center}}{%
    \end{center}
  \end{minipage}
\end{flushright}
\normalsize\vfill}

\newenvironment{keywords}{%
\chapter*{Keywords}
\thispagestyle{empty}
\large
\setlength{\parindent}{0cm}
}{\setlength{\parindent}{\ist@indent} \newpage}

\newenvironment{aclist}{%
\chapter*{Acronyms}
\thispagestyle{empty}
\begin{acronym}}{%
\end{acronym}
\newpage}

\newcommand{\startdocument}{%
\pagenumbering{arabic}
\setcounter{page}{1}}

\endinput
