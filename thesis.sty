%% -*- coding: utf-8; mode: latex -*- %%
%
% Created by David M. M. de Matos (david.matos@acm.org).
% Copyright 1993-2007 by David M. M. de Matos.
% All rights reserved.
%
% This is a LaTeX2e style file.
% It will NOT work with plain TeX or LaTeX 2.09.
%
% The thesis is formated as a book, with Portuguese labels.
% ... or in English
%
% Known bugs: comments should be in Portuguese (or in English...)
% Old version: 1994/06/15 - 2003/10/29 15:57
% Previous version: 2003/11/10 18:08
% Previous version: 2005/03/20 10:21
% Previous version: 2007/05/24 15:39
% This version: 2017/05/24 11:11 by Pedro Arvela
% -- Replace doublespace by setspace

\NeedsTeXFormat{LaTeX2e}

%---------------------------------------------------------------------------
% ...
\ProvidesPackage{thesis}[2007/05/24 15:39
 David's excellent thesis package!]

%---------------------------------------------------------------------------
% A thesis is a book...
% I want to include Encapsulated PostScript pictures in the document,
% and use Portuguese labels. Portuguese hyphenation will be automatically
% activated if the format contains the proper hyphenation patterns.
% Adobe's Palatino is used to write everything. Well, almost. Courier
% will be used as typewriter font (fixed width) and Helvetica as sans
% serif font.
% The doublespace package allows for flexible inter-line distance control.
% ISO Latin 1 characters are automatically recognized and correctly
% translated into the usual TeX control sequences.
\usepackage{noweb}
\usepackage{url}

% Fonts...
\usepackage{palatino}
%\usepackage{helvet}
%\renewcommand{\familydefault}{\sfdefault}
%\usepackage{times}
%\usepackage{utopia}

% Hyphenation patterns and other multilingual support...
%\usepackage[cjkjis]{ucs}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

% Include figures in Encapsulated PostScript...
%\usepackage[dvips]{epsfig}
\usepackage[pdftex]{epsfig}
%\let\psfig=\epsfig

% Allow PS boxes...
\RequirePackage{psboxit}

% Allow line-spacing control...
\RequirePackage{setspace}

% Allow multicolumn output...
\RequirePackage{multicol}

% índice remissivo antigo...
%\RequirePackage{makeidx}

% glossary...
%\RequirePackage[noprefix]{nomencl}    % glossary

% AVMs
\usepackage{avm}

% Bibliography styles...
%\usepackage{authordate1-4} % Author/Date bibliography
\usepackage{chicago} % Chicago Manual of Style
%\RequirePackage[index]{apacite}
%\renewcommand{\bibname}{Índice de Nomes}
%\renewcommand{\BBAB}{e} % between authors in text

% Other (mostly) math stuff
\RequirePackage{amsmath}
\RequirePackage{amssymb}
%\usepackage{qwertz}

%---------------------------------------------------------------------------
% Options...

% What to do with figures (outlined bounding boxes in draft mode)...
\DeclareOption{draft}{\psdraft}
\DeclareOption{final}{\pssilent}

% Never indent...
\DeclareOption{indent}
{
  \let\@afterindentfalse\@afterindenttrue
  \@afterindenttrue
}

% Line spacing...
\DeclareOption{singlespace}{\setstretch{1.0}}
\DeclareOption{doublespace}{\setstretch{1.5}}

\ProcessOptions

%---------------------------------------------------------------------------

%\def\contentsname{Índice}

%---------------------------------------------------------------------------
% The following code replaces the corresponding code in bk??.clo
% This code is liable to be depend heavily on the *.clo files...

\def\appendix{\par
 \setcounter{chapter}{0}
 \setcounter{section}{0}
 %\def\@chapapp{Ap\^{e}ndice}
 \def\@chapapp{Appendix}
 \def\thechapter{\Alph{chapter}}}

%---------------------------------------------------------------------------
% Bibliography styles...

% Usage:   \InsertBibliography{BibTeX style}{BibTeX database, ...}
% Example: \InsertBibliography{authordate3}{articles,thesis,books,manuals}

% for use with "chicago.sty"
% redefine \cite to provide shorter citations
% retain old definition as \fullcite
\let\fullcite\cite
\let\cite\shortcite
\let\citeN\shortciteN  % chicago
%\let\citeN\shortciteauthor  % apacite
%\let\citeANP\citeNP         % apacite

\def\InsertBibliography#1{\bibliographystyle{#1}\bibliography}

% Definitions to provide portuguese labels...

% authordate
%\renewcommand{\bibtitle}{Bibliografia}
%\renewcommand{\bibheadtitle}{BIBLIOGRAFIA}

% chicago
%\newcommand{\bibtitle}{Bibliografia}
%\newcommand{\bibheadtitle}{BIBLIOGRAFIA}
\newcommand{\bibtitle}{Bibliography}
\newcommand{\bibheadtitle}{BIBLIOGRAPHY}

% Redefine the bibliography environment to generate a new chapter,
% with the corresponding index entry...

\renewenvironment{thebibliography}{
  \chapter*{\bibtitle}%
  \@mkboth{\bibheadtitle}{\bibheadtitle}%
  \list{\relax}{\setlength{\labelsep}{0em}
    %--apacite \setlength{\itemindent}{-\bibhang}
    %--apacite \setlength{\leftmargin}{\bibhang}%
    \setlength{\itemindent}{1.3\bibindent}
  }
  %\def\newblock{\hskip .11em plus .33em minus .07em}
  %\sloppy\clubpenalty4000\widowpenalty4000
  \sfcode`\.=1000
  }{}%1col.
  %--apacite \columnsep=1.3\bibhang}{}%1col.
  %\columnsep=1.3\bibhang\begin{multicols}{2}}{\end{multicols}}%2col.

%---------------------------------------------------------------------------
% More settings...
\newcommand{\pdash}{\discretionary{-}{-}{-}}

%---------------------------------------------------------------------------
% More settings...
\pagestyle{empty}

%---------------------------------------------------------------------------
% Vertical distances...

\headsep=12mm          % distance between header and text
\topmargin=-5mm
\textheight=23cm
\textwidth=16cm

\oddsidemargin=0pt
\evensidemargin=0pt

%---------------------------------------------------------------------------
% Horizontal distances...

% paragraph spacing
\parskip=7pt plus 2pt minus 1pt

%paragraph indentation
\parindent=7mm

\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{4}
%\pretolerance=1000
\makeindex
%\makeglossary
\sloppy

%---------------------------------------------------------------------------
% Extra...
% This provides a bit of useless information.

%\listfiles

%%---------------------------------------------------------------------------
